{"version":3,"sources":["webpack:///./src/components/RoomLegend.tsx","webpack:///./src/pages/schedule.tsx","webpack:///./src/util/generateTimetable.ts","webpack:///./src/components/Title.tsx","webpack:///./src/components/ResponsiveBox.tsx","webpack:///./src/components/Breadcrumb.tsx","webpack:///./src/util/misc.ts","webpack:///./src/components/SubTitle.tsx"],"names":["Box","styled","div","withConfig","displayName","componentId","_ref","theme","breakpoints","mobile","RoomBox","_ref2","Circle","_ref3","area","colors","Text","span","_ref4","fonts","text","RoomLegend","t","useTranslation","react_default","a","createElement","rooms","map","room","key","DaysButtonBox","SubTitle","_SubTitle","border","RoomLegendBox","TimeBox","Link","_Link","_ref5","_ref6","isBreak","disabled","_ref7","disabledText","_ref8","_ref9","SchedulePage","_useTranslation","i18n","_staticQueryData$data","_2202199553","data","allSpeakersYaml","allTalksYaml","timetable","speakers","talks","lookup","reduce","acc","speaker","_Object$assign","Object","assign","uuid","talksByDay","groupBy","talk","date","talksByTimeboxes","mapValues","splittedTalks","hiddenTimeBoxes","concat","timeboxes","startsAt","_toConsumableArray","endsAt","newTalks","slice","time","i","sessions","sortBy","break","title","speakerIDs","speakerID","Error","session","keys","timebox","split","day1","day2","generateTimetable","edges","_ref10","node","_ref11","days","dates","sort","dateTimeFormatter","Intl","DateTimeFormat","language","dateStyle","useLayoutEffect","location","hash","selector","el","document","querySelector","top","getBoundingClientRect","window","scrollTo","Layout","Seo","description","ResponsiveBox","Breadcrumb","path","Title","LinkButton","color","size","to","format","day","Fragment","schedule_SubTitle","id","_ref12","s","enStr","jaStr","content","schedule_Box","schedule_Text","titleJa","length","name","join","__webpack_require__","d","__webpack_exports__","react__WEBPACK_IMPORTED_MODULE_0__","react__WEBPACK_IMPORTED_MODULE_0___default","n","h1","header","props","children","innerWidth","styled_components__WEBPACK_IMPORTED_MODULE_1__","react_i18next__WEBPACK_IMPORTED_MODULE_2__","gatsby__WEBPACK_IMPORTED_MODULE_3__","filter","Boolean","label","Date","h2"],"mappings":"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","file":"component---src-pages-schedule-tsx-faf8754258fc1dc44ece.js","sourcesContent":["import React from \"react\"\nimport styled from \"styled-components\"\nimport { useTranslation } from \"react-i18next\"\nimport { Rooms, rooms } from \"../util/misc\"\n\nconst Box = styled.div`\n  display: flex;\n  flex-direction: row;\n  align-items: center;\n  justify-content: space-around;\n\n  ${({ theme }) => theme.breakpoints.mobile} {\n    flex-direction: column;\n    align-items: flex-start;\n  }\n`\nconst RoomBox = styled.div`\n  flex: 1;\n  display: flex;\n  flex-direction: row;\n  align-items: center;\n\n  ${({ theme }) => theme.breakpoints.mobile} {\n    margin-bottom: 1em;\n  }\n`\nconst Circle = styled.div<{ area: Rooms }>`\n  width: 30px;\n  height: 30px;\n  border-radius: 30px;\n  background-color: ${({ area, theme }) =>\n    // @ts-ignore Dynamic access\n    theme.colors[`room${area}Border`]};\n`\nconst Text = styled.span`\n  flex: 1;\n  margin-left: 10px;\n  font-weight: bold;\n  font-size: 20px;\n  font-family: ${({ theme }) => theme.fonts.text};\n`\n\nexport function RoomLegend() {\n  const { t } = useTranslation()\n  return (\n    <Box>\n      {rooms.map(room => (\n        <RoomBox key={room}>\n          <Circle area={room} />\n          <Text>{t(`room${room}`)}</Text>\n        </RoomBox>\n      ))}\n    </Box>\n  )\n}\n","import React, { useLayoutEffect } from \"react\"\nimport styled from \"styled-components\"\nimport { useTranslation } from \"react-i18next\"\nimport { useStaticQuery, graphql } from \"gatsby\"\nimport _Link from \"gatsby-link\"\n\nimport { Layout } from \"../components/Layout\"\nimport { SEO } from \"../components/Seo\"\nimport { Title } from \"../components/Title\"\nimport { SubTitle as _SubTitle } from \"../components/SubTitle\"\nimport { ResponsiveBox } from \"../components/ResponsiveBox\"\nimport { Breadcrumb } from \"../components/Breadcrumb\"\nimport { LinkButton } from \"../components/LinkButton\"\nimport { RoomLegend } from \"../components/RoomLegend\"\nimport { TalkType, SpeakerType } from \"../components/Speaker\"\nimport { generateTimetable } from \"../util/generateTimetable\"\nimport { Dates, dates, Rooms } from \"../util/misc\"\n\nconst DaysButtonBox = styled.div`\n  display: flex;\n  justify-content: space-between;\n  width: 100%;\n\n  ${({ theme }) => theme.breakpoints.mobile} {\n    flex-direction: column;\n  }\n`\nconst SubTitle = styled(_SubTitle)`\n  text-align: left;\n  margin-top: 20px;\n  padding: 0.2em 1em;\n  border-bottom: 1px solid ${({ theme }) => theme.colors.border};\n`\nconst RoomLegendBox = styled.div`\n  margin-bottom: 2em;\n`\nconst TimeBox = styled.div`\n  display: grid;\n  width: 100%;\n  grid-template: \"A B C\" auto / 1fr 1fr 1fr;\n  grid-column-gap: 2em;\n  margin-bottom: 2em;\n  align-content: stretch;\n\n  ${({ theme }) => theme.breakpoints.mobile} {\n    display: flex;\n    flex-direction: column;\n  }\n`\nconst Link = styled(_Link)`\n  text-decoration: none;\n  color: ${({ theme }) => theme.colors.text};\n`\nconst Box = styled.div<{ area: Rooms; isBreak: boolean }>`\n  grid-column: ${({ area }) => area};\n  position: relative;\n  width: 100%;\n  height: 100%;\n  box-sizing: border-box;\n  padding: 1em;\n  margin-bottom: 0.5em;\n  background-color: ${({ area, isBreak, theme }) =>\n    // @ts-ignore Dynamic access\n    isBreak ? theme.colors.disabled : theme.colors[`room${area}`]};\n  border-left: 5px solid;\n  border-color: ${({ area, isBreak, theme }) =>\n    // @ts-ignore Dynamic access\n    isBreak ? theme.colors.disabledText : theme.colors[`room${area}Border`]};\n\n  ::before {\n    content: \"\";\n    position: absolute;\n    top: -8px;\n    left: -10px;\n    display: inline-block;\n    width: 16px;\n    height: 16px;\n    border-radius: 100%;\n    background-color: ${({ area, isBreak, theme }) =>\n      // @ts-ignore Dynamic access\n      isBreak ? theme.colors.disabledText : theme.colors[`room${area}Border`]};\n  }\n`\nconst Text = styled.span`\n  display: block;\n  font-size: 20px;\n  font-family: ${({ theme }) => theme.fonts.text};\n`\n\nexport default function SchedulePage() {\n  const { t, i18n } = useTranslation()\n  const { allSpeakersYaml, allTalksYaml } = useStaticQuery(graphql`\n    query {\n      allSpeakersYaml {\n        edges {\n          node {\n            uuid\n            name\n          }\n        }\n      }\n      allTalksYaml {\n        edges {\n          node {\n            uuid\n            title\n            titleJa\n            description\n            descriptionJa\n            spokenLanguage\n            slideLanguage\n            speakerIDs\n            startsAt\n            endsAt\n            room\n            date\n            hiddenTimeBoxes\n          }\n        }\n      }\n    }\n  `)\n  const speakers: SpeakerType[] = allSpeakersYaml.edges.map(\n    ({ node }: any) => node,\n  )\n  const talks: TalkType[] = allTalksYaml.edges.map(({ node }: any) => node)\n  const timetable = generateTimetable({ speakers, talks })\n  const days = Object.keys(dates).sort() as Dates[]\n  const enOrJa = (enStr: string, jaStr: string) => {\n    return i18n.language === \"en\" ? enStr || jaStr : jaStr || enStr\n  }\n  const dateTimeFormatter = new Intl.DateTimeFormat(i18n.language, {\n    // @ts-ignore dateStyle' does not exist in type 'DateTimeFormatOptions'\n    dateStyle: \"medium\",\n  })\n\n  // Open page with hash (ex. direct access, reload)\n  useLayoutEffect(() => {\n    if (!location.hash) {\n      return\n    }\n\n    const selector = location.hash\n    const el = document.querySelector(selector)\n    if (!el) {\n      return\n    }\n    const { top } = el.getBoundingClientRect()\n    window.scrollTo({ top })\n  }, [])\n\n  return (\n    <Layout>\n      <SEO title={t(\"schedule\")} description={t(\"schedule.description\")} />{\" \"}\n      <ResponsiveBox>\n        <Breadcrumb path={[t(\"schedule\")]} />\n        <Title>{t(\"schedule\")}</Title>\n        <DaysButtonBox>\n          <LinkButton color=\"secondary\" size=\"large\" to=\"/schedule/#day1\">\n            {t(\"day1\")} ({dateTimeFormatter.format(dates.day1)})\n          </LinkButton>\n          <LinkButton color=\"secondary\" size=\"large\" to=\"/schedule/#day2\">\n            {t(\"day2\")} ({dateTimeFormatter.format(dates.day2)})\n          </LinkButton>\n        </DaysButtonBox>\n\n        {days.map(day => (\n          <React.Fragment key={day}>\n            <SubTitle id={day}>\n              {t(day)} ({dateTimeFormatter.format(dates[day])})\n            </SubTitle>\n            <RoomLegendBox>\n              <RoomLegend />\n            </RoomLegendBox>\n            {timetable[day].map(({ timebox, sessions }) => (\n              <TimeBox key={timebox}>\n                {sessions.map(s => {\n                  const content = (\n                    <Box key={s.room + s.uuid} area={s.room} isBreak={s.break}>\n                      <Text>\n                        {s.startsAt}-{s.endsAt}\n                      </Text>\n                      <Text>{enOrJa(s.title, s.titleJa) || \"TBA\"}</Text>\n                      {s.speakers.length ? (\n                        <Text>\n                          by{\" \"}\n                          {s.speakers\n                            .map(speaker => speaker.name)\n                            .join(\" and \")}\n                        </Text>\n                      ) : null}\n                    </Box>\n                  )\n                  if (s.uuid && s.speakers.length) {\n                    return (\n                      <Link key={s.room + s.uuid} to={`talk/${s.uuid}`}>\n                        {content}\n                      </Link>\n                    )\n                  }\n                  return content\n                })}\n              </TimeBox>\n            ))}\n          </React.Fragment>\n        ))}\n      </ResponsiveBox>\n    </Layout>\n  )\n}\n","import groupBy from \"lodash/groupBy\"\nimport sortBy from \"lodash/sortBy\"\nimport mapValues from \"lodash/mapValues\"\n\nimport { Dates } from \"../util/misc\"\n// FIXME: Should not import from here\nimport { SpeakerType, TalkType } from \"../components/Speaker\"\n\ntype Session = TalkType & {\n  break: boolean\n  speakers: SpeakerType[]\n}\n\ntype Timebox = {\n  timebox: string\n  sessions: Session[]\n}\ntype Timetable = {\n  [K in Dates]: Timebox[]\n}\n\nexport function generateTimetable({\n  speakers,\n  talks,\n}: {\n  speakers: SpeakerType[]\n  talks: TalkType[]\n}): Timetable {\n  const lookup: Record<string, SpeakerType> = speakers.reduce(\n    (acc, speaker) => ({ ...acc, [speaker.uuid]: speaker }),\n    {},\n  )\n\n  const talksByDay = groupBy(talks, talk => talk.date)\n  const talksByTimeboxes = mapValues(talksByDay, (talks): Timebox[] => {\n    const splittedTalks = talks.reduce(\n      (acc, talk) => {\n        if (!talk.hiddenTimeBoxes) {\n          return acc.concat([talk])\n        }\n\n        const timeboxes = [talk.startsAt, ...talk.hiddenTimeBoxes].concat([\n          talk.endsAt,\n        ])\n        const newTalks = timeboxes.slice(1).map((time, i) => ({\n          ...talk,\n          startsAt: timeboxes[i],\n          endsAt: time,\n        }))\n\n        return acc.concat(newTalks)\n      },\n      [] as TalkType[],\n    )\n    const sessions = sortBy(splittedTalks, talk => talk.room).map(talk => ({\n      ...talk,\n      break: talk.title === \"Break\",\n      speakers: talk.speakerIDs.map(speakerID => {\n        const speaker = lookup[speakerID]\n        if (!speaker) {\n          throw new Error(\n            `Speaker ${speakerID} not found in \"${talk.title}\" (${talk.uuid})`,\n          )\n        }\n        return speaker\n      }),\n    }))\n    const timeboxes = groupBy(\n      sessions,\n      session => `${session.startsAt}-${session.endsAt}`,\n    )\n    delete timeboxes[\"null-null\"]\n\n    const sortedKeys = sortBy(Object.keys(timeboxes), timebox => {\n      return timebox.split(\"-\")[0]\n    })\n    return sortedKeys.map(key => ({\n      timebox: key,\n      sessions: timeboxes[key],\n    }))\n  })\n\n  return {\n    day1: talksByTimeboxes.day1 || [],\n    day2: talksByTimeboxes.day2 || [],\n  }\n}\n","import React from \"react\"\nimport styled from \"styled-components\"\n\nexport type Props = {\n  children: React.ReactNode\n}\n\nconst Box = styled.h1`\n  text-align: center;\n  margin: 40px 0 60px;\n  font-size: 40px;\n  text-transform: uppercase;\n  font-family: ${({ theme }) => theme.fonts.header};\n`\n\nexport function Title(props: Props) {\n  const { children } = props\n\n  return <Box>{children}</Box>\n}\n","import React from \"react\"\nimport styled from \"styled-components\"\n\nexport type Props = {\n  children: React.ReactNode\n}\n\nconst Box = styled.div`\n  width: 100%;\n  max-width: ${({ theme }) => theme.innerWidth};\n  padding: 2em 1em 5em;\n  margin: 0 auto;\n  box-sizing: border-box;\n`\n\nexport function ResponsiveBox(props: Props) {\n  const { children } = props\n\n  return <Box>{children}</Box>\n}\n","import React from \"react\"\nimport styled from \"styled-components\"\nimport { useTranslation } from \"react-i18next\"\nimport { Link } from \"gatsby\"\n\nexport type Props = {\n  path: (string | { label: string; to: string })[]\n}\n\nconst Box = styled.div`\n  display: flex;\n`\nconst Text = styled.span`\n  margin-right: 0.5em;\n  font-size: 14px;\n  font-weight: bold;\n  text-transform: uppercase;\n  font-family: ${({ theme }) => theme.fonts.header};\n  text-transform: uppercase;\n`\n\nexport function Breadcrumb(props: Props) {\n  const { path } = props\n  const { t } = useTranslation()\n\n  return (\n    <Box>\n      <Link to=\"/\">\n        <Text>{t(\"top\")}</Text>\n      </Link>\n      {path.filter(Boolean).map(label => {\n        const path = typeof label === \"string\" ? { label, to: null } : label\n        return (\n          <React.Fragment key={path.label}>\n            <Text>></Text>\n            {path.to ? (\n              <Link to={path.to}>\n                <Text>{path.label}</Text>\n              </Link>\n            ) : (\n              <Text>{path.label}</Text>\n            )}\n          </React.Fragment>\n        )\n      })}\n    </Box>\n  )\n}\n","export const dates = {\n  day1: new Date(2019, 10, 30),\n  day2: new Date(2019, 11, 1),\n}\nexport type Dates = keyof typeof dates\n\nexport type Rooms = \"A\" | \"B\" | \"C\"\nexport const rooms: Rooms[] = [\"A\", \"B\", \"C\"]\n","import styled from \"styled-components\"\n\nexport const SubTitle = styled.h2`\n  text-align: center;\n  text-transform: uppercase;\n  font-family: ${({ theme }) => theme.fonts.header};\n  font-size: 40px;\n  margin: 0 0 1em;\n`\n"],"sourceRoot":""}